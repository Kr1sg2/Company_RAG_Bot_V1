#!/usr/bin/env bash\nset -euo pipefail\n\necho \"=== LexaAI Development Check ===\"\necho\n\n# Colors for output\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nNC='\\033[0m' # No Color\n\nprint_step() {\n    echo -e \"${YELLOW}[STEP]${NC} $1\"\n}\n\nprint_success() {\n    echo -e \"${GREEN}[OK]${NC} $1\"\n}\n\nprint_error() {\n    echo -e \"${RED}[ERROR]${NC} $1\"\n}\n\nprint_step \"1. TypeScript Check\"\nif npm run build &>/dev/null; then\n    print_success \"TypeScript compilation passed\"\nelse\n    print_error \"TypeScript compilation failed\"\n    echo \"Run 'npm run build' to see detailed errors\"\n    exit 1\nfi\n\nprint_step \"2. Linting\"\nif npm run lint &>/dev/null; then\n    print_success \"ESLint passed\"\nelse\n    print_error \"ESLint failed\"\n    echo \"Run 'npm run lint' to see detailed errors\"\n    exit 1\nfi\n\nprint_step \"3. Build Check\"\nif npm run build >/dev/null 2>&1; then\n    print_success \"Vite build succeeded\"\nelse\n    print_error \"Vite build failed\"\n    exit 1\nfi\n\nprint_step \"4. API Smoke Tests\"\n\n# Check if backend is running\nif ! curl -s http://localhost:8600/api/health &>/dev/null; then\n    print_error \"Backend not running on port 8600\"\n    echo \"Start backend with: bash /home/bizbots24/Desktop/LexaAI-Services/StartBackend.sh\"\n    exit 1\nfi\n\nprint_success \"Backend health check passed\"\n\n# Test public branding endpoint\nprint_step \"4a. Public Branding API\"\nif COMPANY_NAME=$(curl -s http://localhost:8600/api/admin/settings/public/branding | jq -r '.companyName // \"null\"' 2>/dev/null); then\n    if [ \"$COMPANY_NAME\" != \"null\" ] && [ \"$COMPANY_NAME\" != \"\" ]; then\n        print_success \"Public branding API works (Company: $COMPANY_NAME)\"\n    else\n        print_error \"Public branding API returned empty company name\"\n        exit 1\n    fi\nelse\n    print_error \"Public branding API failed\"\n    exit 1\nfi\n\n# Test chat API\nprint_step \"4b. Chat API\"\nCHAT_RESPONSE=$(curl -s -X POST http://localhost:8600/api/chat \\\n    -H \"Content-Type: application/json\" \\\n    -d '{\"message\":\"What is the company dress code?\"}' 2>/dev/null)\n\nif echo \"$CHAT_RESPONSE\" | jq -e '.response // .error' &>/dev/null; then\n    print_success \"Chat API responded successfully\"\n    # Show first 100 chars of response for verification\n    PREVIEW=$(echo \"$CHAT_RESPONSE\" | jq -r '.response // .error' | head -c 100)\n    echo \"Response preview: ${PREVIEW}...\"\nelse\n    print_error \"Chat API failed or returned invalid JSON\"\n    echo \"Response: $CHAT_RESPONSE\"\n    exit 1\nfi\n\nprint_step \"5. Frontend Availability\"\nif curl -s http://localhost:8080 -I | head -1 | grep -q \"200 OK\"; then\n    print_success \"Frontend is accessible on port 8080\"\nelse\n    print_error \"Frontend not accessible on port 8080\"\n    echo \"Start frontend with: bash /home/bizbots24/Desktop/LexaAI-Services/StartFrontend.sh\"\n    exit 1\nfi\n\necho\nprint_success \"=== All checks passed! ===\"\necho\necho \"âœ¨ System is ready for development\"\necho \"   Frontend: http://localhost:8080\"\necho \"   Backend : http://localhost:8600/api/health\"\necho \"   Admin   : http://localhost:8080/admin/branding\"\necho\necho \"ðŸ”§ Quick commands:\"\necho \"   npm run dev       # Start frontend dev server\"\necho \"   npm run build     # Build for production\"\necho \"   npm run lint      # Check code style\"\necho"